<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
  import {
    getAuth,
    createUserWithEmailAndPassword,
    signInWithPopup,
    GoogleAuthProvider
  } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyA3_pQbii_2wIGRLkoWwMo9FbOnpXpl4bw",
    authDomain: "zentry-9dd14.firebaseapp.com",
    projectId: "zentry-9dd14",
    storageBucket: "zentry-9dd14.firebasestorage.app",
    messagingSenderId: "860501594526",
    appId: "1:860501594526:web:d254e5fa464c96c03e068f"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  // Email/Password signup
  document.getElementById("signup-form").addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    try {
      await createUserWithEmailAndPassword(auth, email, password);
      alert("Sign up successful!");
      window.location.href = "dashboard.html"; // ✅ Redirect to dashboard
    } catch (error) {
      alert(error.message);
    }
  });

  // Google signup
  document.getElementById("google-signup").addEventListener("click", async () => {
    try {
      await signInWithPopup(auth, provider);
      alert("Google sign up successful!");
      window.location.href = "dashboard.html"; // ✅ Redirect to dashboard
    } catch (error) {
      alert(error.message);
    }
  });
</script>
